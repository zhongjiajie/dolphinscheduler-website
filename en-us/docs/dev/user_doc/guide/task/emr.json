{
  "filename": "emr.md",
  "__html": "<h1>Amazon EMR</h1>\n<h2>Overview</h2>\n<p>Amazon EMR task type, for creating EMR clusters on AWS and running computing tasks. Using <a href=\"https://aws.amazon.com/cn/sdk-for-java/\">aws-java-sdk</a> in the background code, to transfer JSON parameters to  <a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/elasticmapreduce/model/RunJobFlowRequest.html\">RunJobFlowRequest</a> object and submit to AWS.</p>\n<h2>Parameter</h2>\n<ul>\n<li>Node name: The node name in a workflow definition is unique.</li>\n<li>Run flag: Identifies whether this node schedules normally, if it does not need to execute, select the <code>prohibition execution</code>.</li>\n<li>Descriptive information: Describe the function of the node.</li>\n<li>Task priority: When the number of worker threads is insufficient, execute in the order of priority from high to low, and tasks with the same priority will execute in a first-in first-out order.</li>\n<li>Worker grouping: Assign tasks to the machines of the worker group to execute. If <code>Default</code> is selected, randomly select a worker machine for execution.</li>\n<li>Times of failed retry attempts: The number of times the task failed to resubmit. You can select from drop-down or fill-in a number.</li>\n<li>Failed retry interval: The time interval for resubmitting the task after a failed task. You can select from drop-down or fill-in a number.</li>\n<li>Timeout alarm: Check the timeout alarm and timeout failure. When the task runs exceed the &quot;timeout&quot;, an alarm email will send and the task execution will fail.</li>\n<li>JSON: JSON corresponding to the <a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/elasticmapreduce/model/RunJobFlowRequest.html\">RunJobFlowRequest</a> object, for details refer to <a href=\"https://docs.aws.amazon.com/emr/latest/APIReference/API_RunJobFlow.html#API_RunJobFlow_Examples\">API_RunJobFlow_Examples</a>.</li>\n</ul>\n<h2>JSON example</h2>\n<pre><code class=\"language-json\">{\n  <span class=\"hljs-attr\">&quot;Name&quot;</span>: <span class=\"hljs-string\">&quot;SparkPi&quot;</span>,\n  <span class=\"hljs-attr\">&quot;ReleaseLabel&quot;</span>: <span class=\"hljs-string\">&quot;emr-5.34.0&quot;</span>,\n  <span class=\"hljs-attr\">&quot;Applications&quot;</span>: [\n    {\n      <span class=\"hljs-attr\">&quot;Name&quot;</span>: <span class=\"hljs-string\">&quot;Spark&quot;</span>\n    }\n  ],\n  <span class=\"hljs-attr\">&quot;Instances&quot;</span>: {\n    <span class=\"hljs-attr\">&quot;InstanceGroups&quot;</span>: [\n      {\n        <span class=\"hljs-attr\">&quot;Name&quot;</span>: <span class=\"hljs-string\">&quot;Primary node&quot;</span>,\n        <span class=\"hljs-attr\">&quot;InstanceRole&quot;</span>: <span class=\"hljs-string\">&quot;MASTER&quot;</span>,\n        <span class=\"hljs-attr\">&quot;InstanceType&quot;</span>: <span class=\"hljs-string\">&quot;m4.xlarge&quot;</span>,\n        <span class=\"hljs-attr\">&quot;InstanceCount&quot;</span>: <span class=\"hljs-number\">1</span>\n      }\n    ],\n    <span class=\"hljs-attr\">&quot;KeepJobFlowAliveWhenNoSteps&quot;</span>: <span class=\"hljs-literal\">false</span>,\n    <span class=\"hljs-attr\">&quot;TerminationProtected&quot;</span>: <span class=\"hljs-literal\">false</span>\n  },\n  <span class=\"hljs-attr\">&quot;Steps&quot;</span>: [\n    {\n      <span class=\"hljs-attr\">&quot;Name&quot;</span>: <span class=\"hljs-string\">&quot;calculate_pi&quot;</span>,\n      <span class=\"hljs-attr\">&quot;ActionOnFailure&quot;</span>: <span class=\"hljs-string\">&quot;CONTINUE&quot;</span>,\n      <span class=\"hljs-attr\">&quot;HadoopJarStep&quot;</span>: {\n        <span class=\"hljs-attr\">&quot;Jar&quot;</span>: <span class=\"hljs-string\">&quot;command-runner.jar&quot;</span>,\n        <span class=\"hljs-attr\">&quot;Args&quot;</span>: [\n          <span class=\"hljs-string\">&quot;/usr/lib/spark/bin/run-example&quot;</span>,\n          <span class=\"hljs-string\">&quot;SparkPi&quot;</span>,\n          <span class=\"hljs-string\">&quot;15&quot;</span>\n        ]\n      }\n    }\n  ],\n  <span class=\"hljs-attr\">&quot;JobFlowRole&quot;</span>: <span class=\"hljs-string\">&quot;EMR_EC2_DefaultRole&quot;</span>,\n  <span class=\"hljs-attr\">&quot;ServiceRole&quot;</span>: <span class=\"hljs-string\">&quot;EMR_DefaultRole&quot;</span>\n}\n</code></pre>\n",
  "link": "/dist/en-us/docs/dev/user_doc/guide/task/emr.html",
  "meta": {}
}