{
  "filename": "release-prepare.md",
  "__html": "<h1>发版准备</h1>\n<h2>检查 release-docs</h2>\n<p>和上一个版本比较，如果有依赖及版本发生了变化，当前版本的 <code>release-docs</code> 需要被更新到最新</p>\n<ul>\n<li><code>dolphinscheduler-dist/release-docs/LICENSE</code></li>\n<li><code>dolphinscheduler-dist/release-docs/NOTICE</code></li>\n<li><code>dolphinscheduler-dist/release-docs/licenses</code></li>\n</ul>\n<h2>更新版本</h2>\n<p>例如要发版 <code>x.y.z</code>，需要先进行以下修改:</p>\n<ul>\n<li><code>pom.xml</code>: <code>revision</code>, <code>version</code>, <code>tag</code> 标签版本更新为 x.y.z</li>\n<li><code>ambari_plugin</code>:\n<ul>\n<li><code>ambari_plugin/common-services/DOLPHIN/x.y.z</code>: 目录版本更新为 x.y.z</li>\n<li><code>ambari_plugin/common-services/DOLPHIN/x.y.z/alerts.json</code>: 内容版本更新为 x.y.z</li>\n<li><code>ambari_plugin/common-services/DOLPHIN/x.y.z/metainfo.xml</code>: 内容版本更新为 x.y.z</li>\n<li><code>ambari_plugin/statcks/DOLPHIN/metainfo.xml</code>: 内容版本更新为 x.y.z</li>\n</ul>\n</li>\n<li><code>sql</code>:\n<ul>\n<li><code>dolphinscheduler_mysql.sql</code>: <code>t_ds_version</code> 版本更新为 x.y.z</li>\n<li><code>dolphinscheduler_postgre.sql</code>: <code>t_ds_version</code> 版本更新为 x.y.z</li>\n<li><code>upgrade</code>: 是否新增 <code>x.y.z_schema</code></li>\n<li><code>soft_version</code>: 版本更新为 x.y.z</li>\n</ul>\n</li>\n<li><code>docker/docker-swarm</code>:\n<ul>\n<li><code>docker-compose.yml</code>: <code>image: dolphinscheduler.docker.scarf.sh/apache/dolphinscheduler</code> 版本更新为 x.y.z</li>\n<li><code>docker-stack.yml</code>: <code>image: dolphinscheduler.docker.scarf.sh/apache/dolphinscheduler</code> 版本更新为 x.y.z</li>\n</ul>\n</li>\n<li><code>docker/kubernetes/dolphinscheduler</code>:\n<ul>\n<li><code>Chart.yaml</code>: <code>appVersion</code> 版本更新为 x.y.z (<code>version</code> 为 helm chart 版本, 增量更新但不要设置为 x.y.z)</li>\n<li><code>values.yaml</code>: <code>image.tag</code> 版本更新为 x.y.z</li>\n</ul>\n</li>\n</ul>\n",
  "link": "/dist/zh-cn/community/release-prepare.html",
  "meta": {}
}